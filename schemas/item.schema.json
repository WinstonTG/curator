{
  "$ref": "#/definitions/Item",
  "definitions": {
    "Item": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "domain": {
          "type": "string",
          "enum": [
            "music",
            "news",
            "recipes",
            "learning",
            "events"
          ]
        },
        "title": {
          "type": "string",
          "minLength": 1,
          "maxLength": 500
        },
        "description": {
          "type": "string",
          "maxLength": 2000
        },
        "source": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1
            },
            "id": {
              "type": "string",
              "minLength": 1
            },
            "url": {
              "type": "string",
              "format": "uri"
            },
            "reputation_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            }
          },
          "required": [
            "name",
            "id"
          ],
          "additionalProperties": false
        },
        "embeddings": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 1536,
          "maxItems": 1536
        },
        "topics": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "actions": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "save",
              "try",
              "attend",
              "purchase"
            ]
          },
          "minItems": 1
        },
        "sponsored": {
          "type": "boolean"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "meta": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "domain": {
                  "type": "string",
                  "const": "music"
                },
                "spotify_id": {
                  "type": "string"
                },
                "artists": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1
                },
                "album": {
                  "type": "string"
                },
                "duration_seconds": {
                  "type": "number",
                  "exclusiveMinimum": 0
                },
                "genres": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "mood": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "release_date": {
                  "type": "string"
                },
                "popularity": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 100
                },
                "preview_url": {
                  "type": "string",
                  "format": "uri"
                },
                "image_url": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "required": [
                "domain",
                "artists",
                "genres"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "domain": {
                  "type": "string",
                  "const": "news"
                },
                "author": {
                  "type": "string"
                },
                "publication": {
                  "type": "string",
                  "minLength": 1
                },
                "published_at": {
                  "type": "string",
                  "format": "date-time"
                },
                "category": {
                  "type": "string",
                  "minLength": 1
                },
                "bias": {
                  "type": "string",
                  "enum": [
                    "left",
                    "center-left",
                    "center",
                    "center-right",
                    "right"
                  ]
                },
                "credibility_tier": {
                  "type": "string",
                  "enum": [
                    "trusted",
                    "verified",
                    "unverified",
                    "risky",
                    "blocked"
                  ]
                },
                "read_time_minutes": {
                  "type": "number",
                  "exclusiveMinimum": 0
                },
                "image_url": {
                  "type": "string",
                  "format": "uri"
                },
                "breaking": {
                  "type": "boolean"
                }
              },
              "required": [
                "domain",
                "publication",
                "published_at",
                "category"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "domain": {
                  "type": "string",
                  "const": "recipes"
                },
                "author": {
                  "type": "string"
                },
                "cuisine": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1
                },
                "dietary": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "vegetarian",
                      "vegan",
                      "gluten-free",
                      "dairy-free",
                      "keto",
                      "paleo"
                    ]
                  }
                },
                "difficulty": {
                  "type": "string",
                  "enum": [
                    "beginner",
                    "intermediate",
                    "advanced"
                  ]
                },
                "prep_time_minutes": {
                  "type": "number",
                  "minimum": 0
                },
                "cook_time_minutes": {
                  "type": "number",
                  "minimum": 0
                },
                "total_time_minutes": {
                  "type": "number",
                  "minimum": 0
                },
                "servings": {
                  "type": "number",
                  "exclusiveMinimum": 0
                },
                "ingredients": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1
                },
                "instructions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "nutrition": {
                  "type": "object",
                  "properties": {
                    "calories": {
                      "type": "number",
                      "minimum": 0
                    },
                    "protein_g": {
                      "type": "number",
                      "minimum": 0
                    },
                    "carbs_g": {
                      "type": "number",
                      "minimum": 0
                    },
                    "fat_g": {
                      "type": "number",
                      "minimum": 0
                    }
                  },
                  "additionalProperties": false
                },
                "image_url": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "required": [
                "domain",
                "cuisine",
                "dietary",
                "difficulty",
                "prep_time_minutes",
                "cook_time_minutes",
                "total_time_minutes",
                "servings",
                "ingredients"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "domain": {
                  "type": "string",
                  "const": "learning"
                },
                "instructor": {
                  "type": "string",
                  "minLength": 1
                },
                "platform": {
                  "type": "string",
                  "minLength": 1
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "course",
                    "tutorial",
                    "article",
                    "video",
                    "book"
                  ]
                },
                "level": {
                  "type": "string",
                  "enum": [
                    "beginner",
                    "intermediate",
                    "advanced",
                    "all-levels"
                  ]
                },
                "duration": {
                  "type": "object",
                  "properties": {
                    "hours": {
                      "type": "number",
                      "exclusiveMinimum": 0
                    },
                    "weeks": {
                      "type": "number",
                      "exclusiveMinimum": 0
                    }
                  },
                  "additionalProperties": false
                },
                "skills": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1
                },
                "price_usd": {
                  "type": "number",
                  "minimum": 0
                },
                "rating": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 5
                },
                "enrollments": {
                  "type": "number",
                  "minimum": 0
                },
                "certificate": {
                  "type": "boolean"
                },
                "image_url": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "required": [
                "domain",
                "instructor",
                "platform",
                "type",
                "level",
                "skills",
                "price_usd"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "domain": {
                  "type": "string",
                  "const": "events"
                },
                "organizer": {
                  "type": "string",
                  "minLength": 1
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "concert",
                    "meetup",
                    "workshop",
                    "conference",
                    "festival",
                    "sports",
                    "other"
                  ]
                },
                "event_date": {
                  "type": "string",
                  "format": "date-time"
                },
                "event_end_date": {
                  "type": "string",
                  "format": "date-time"
                },
                "venue": {
                  "type": "string",
                  "minLength": 1
                },
                "location": {
                  "type": "object",
                  "properties": {
                    "city": {
                      "type": "string",
                      "minLength": 1
                    },
                    "state": {
                      "type": "string"
                    },
                    "country": {
                      "type": "string",
                      "minLength": 1
                    },
                    "address": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "properties": {
                        "lat": {
                          "type": "number",
                          "minimum": -90,
                          "maximum": 90
                        },
                        "lng": {
                          "type": "number",
                          "minimum": -180,
                          "maximum": 180
                        }
                      },
                      "required": [
                        "lat",
                        "lng"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "city",
                    "country"
                  ],
                  "additionalProperties": false
                },
                "price_range": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "tickets_available": {
                  "type": "boolean"
                },
                "capacity": {
                  "type": "number",
                  "exclusiveMinimum": 0
                },
                "age_restriction": {
                  "type": "string"
                },
                "image_url": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "required": [
                "domain",
                "organizer",
                "type",
                "event_date",
                "venue",
                "location"
              ],
              "additionalProperties": false
            }
          ]
        }
      },
      "required": [
        "id",
        "domain",
        "title",
        "source",
        "topics",
        "actions",
        "sponsored",
        "created_at",
        "meta"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}